@import 'datatables.net-dt';
@import 'datatables.net-buttons-dt';
@import 'datatables.net-responsive-dt';
@import 'datatables.net-select-dt';

/* Common input styles for DataTables */
.dt-input {
  @apply border border-gray-300 rounded-md px-3 py-2
         text-gray-700 dark:text-gray-300
         bg-white dark:bg-gray-700
         focus:ring-1 focus:ring-primary-500 focus:border-primary-500
         focus:outline-none
         dark:border-gray-600;
}

/* Search input specific */
input.dt-input {
  @apply placeholder-gray-400 dark:placeholder-gray-500;
}

/* Select input specific */
select.dt-input {
  @apply cursor-pointer min-w-[60px];
}

/* Sorting icons - Default state */
table.dataTable thead > tr > th.sorting::before,
table.dataTable thead > tr > th.sorting::after {
  @apply bg-gray-400 dark:bg-gray-500 opacity-50;
}

/* Loading state styling */
div.dt-processing {
  @apply absolute top-1/2 left-1/2 w-[200px] -ml-[100px] -mt-[22px]
         text-center p-2 z-10
         text-gray-700 dark:text-gray-300
         bg-white dark:bg-gray-800
         border border-gray-200 dark:border-gray-700
         rounded-md shadow-lg;
}

/* Loading animation container */
div.dt-processing > div:last-child {
  @apply relative w-[80px] h-[15px] mx-auto mt-4;
}

/* Loading dots */
div.dt-processing > div:last-child > div {
  @apply absolute top-0 w-[13px] h-[13px]
         rounded-full bg-primary-500;
  animation-timing-function: cubic-bezier(0, 1, 1, 0);
}

/* Individual dot positions and animations */
div.dt-processing > div:last-child > div:nth-child(1) {
  @apply left-[8px];
  animation: datatables-loader-1 0.6s infinite;
}

div.dt-processing > div:last-child > div:nth-child(2) {
  @apply left-[8px];
  animation: datatables-loader-2 0.6s infinite;
}

div.dt-processing > div:last-child > div:nth-child(3) {
  @apply left-[32px];
  animation: datatables-loader-2 0.6s infinite;
}

div.dt-processing > div:last-child > div:nth-child(4) {
  @apply left-[56px];
  animation: datatables-loader-3 0.6s infinite;
}

@keyframes datatables-loader-1 {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes datatables-loader-2 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(24px, 0);
  }
}

@keyframes datatables-loader-3 {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}

/* Light mode DataTable styles with theme colors */
.dataTables_wrapper {
  @apply text-gray-700 dark:text-gray-300;
}

.dataTables_info,
.dataTables_length label,
.dataTables_filter label {
  @apply text-gray-600 dark:text-gray-300;
}

/* Enhanced styling for DataTables info text */
.dataTables_info {
  @apply text-sm text-gray-700 dark:text-gray-200 font-medium;
}

.dataTables_paginate .paginate_button {
  @apply text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-primary-50 dark:hover:bg-primary-800 hover:text-primary-700 dark:hover:text-primary-200 hover:border-primary-300 dark:hover:border-primary-600 transition-colors;
}

.dataTables_paginate .paginate_button.current {
  @apply bg-primary-500 dark:bg-primary-600 border-primary-500 dark:border-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-700 hover:border-primary-600 dark:hover:border-primary-600;
}

.dataTables_paginate .paginate_button.disabled {
  @apply text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-not-allowed;
}

.dataTables_paginate .paginate_button.disabled:hover {
  @apply bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500;
}

/* Header containers (original DataTables classes) */
.dataTables_wrapper .dataTables_length,
.dataTables_wrapper .dataTables_filter {
  @apply px-3 py-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800;
}

.dataTables_wrapper .dataTables_length label,
.dataTables_wrapper .dataTables_filter label {
  @apply text-gray-700 dark:text-gray-200;
}

/* Footer containers (info + paginate) */
.dataTables_wrapper .dataTables_info,
.dataTables_wrapper .dataTables_paginate {
  @apply px-3 py-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800;
}

.dataTables_wrapper .dataTables_info {
  @apply text-gray-700 dark:text-gray-200;
}

/* Dark mode specific overrides */
.dark .dataTables_wrapper .dataTables_length,
.dark .dataTables_wrapper .dataTables_filter {
  @apply border-gray-700 bg-gray-800;
}

.dark .dataTables_wrapper .dataTables_info,
.dark .dataTables_wrapper .dataTables_paginate {
  @apply border-gray-700 bg-gray-800;
}

.dark .dataTables_wrapper .dataTables_length label,
.dark .dataTables_wrapper .dataTables_filter label,
.dark .dataTables_wrapper .dataTables_info {
  @apply text-gray-200;
}

/* Dark mode specific DataTable styles */
.dark .dataTables_wrapper {
  @apply text-gray-200 bg-gray-800;
}

.dark .dataTables_info,
.dark .dataTables_length label,
.dark .dataTables_filter label {
  @apply text-gray-200;
}

/* Dark mode for DataTable container and controls */
.dark .dataTables_length,
.dark .dataTables_filter,
.dark .dataTables_paginate {
  @apply text-gray-200;
}

.dark .dataTables_empty {
  @apply text-gray-400 bg-gray-800;
}

.dark .dataTables_paginate .paginate_button {
  @apply text-gray-300 bg-gray-800 border-gray-600 hover:bg-primary-800 hover:text-primary-200 hover:border-primary-600;
}

.dark .dataTables_paginate .paginate_button:hover {
  @apply bg-primary-800 border-primary-600 text-primary-200;
}

.dark .dataTables_paginate .paginate_button.current {
  @apply bg-primary-600 border-primary-500 text-white hover:bg-primary-700 hover:border-primary-600;
}

.dark .dataTables_paginate .paginate_button.disabled {
  @apply text-gray-500 bg-gray-800 border-gray-700;
}

.dark .dataTables_paginate .paginate_button.disabled:hover {
  @apply bg-gray-800 border-gray-700 text-gray-500;
}

/* Light mode table styling with theme colors */
table.dataTable {
  @apply text-gray-700 dark:text-gray-300;
}

table.dataTable thead th {
  @apply bg-primary-50 dark:bg-gray-800 text-primary-800 dark:text-gray-300 border-primary-200 dark:border-gray-700 font-semibold dark:hover:bg-gray-700 dark:hover:text-gray-300;
}

table.dataTable tbody tr {
  @apply bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors;
}

table.dataTable tbody tr:nth-child(even) {
  @apply bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300;
}

table.dataTable tbody tr:hover {
  @apply bg-primary-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300;
}

table.dataTable tbody td {
  @apply border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300;
}

/* Footer cells to match header design */
table.dataTable tfoot th {
  @apply bg-primary-50 dark:bg-gray-800 text-primary-800 dark:text-gray-300 border-primary-200 dark:border-gray-700 font-semibold;
}
table.dataTable tfoot td {
  @apply border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300;
}

/* Empty state text */
table.dataTable tbody td.dataTables_empty {
  @apply text-gray-600 dark:text-gray-400;
}

/* Dark mode table styling */
.dark table.dataTable {
  @apply text-gray-300;
}

.dark table.dataTable thead th {
  @apply bg-gray-900 dark:bg-gray-800 text-gray-300 border-gray-700 font-semibold dark:text-gray-300 dark:border-gray-700;
}

.dark table.dataTable tbody tr {
  @apply bg-gray-800 dark:bg-gray-800 border-gray-700 hover:bg-gray-700 transition-colors dark:border-gray-700 dark:hover:bg-gray-700;
}

.dark table.dataTable tbody tr:nth-child(even) {
  @apply bg-gray-900 dark:bg-gray-800 dark:text-gray-300;
}

.dark table.dataTable tbody tr:hover {
  @apply bg-gray-700 dark:bg-gray-700 dark:text-gray-300;
}

.dark table.dataTable tbody td {
  @apply border-gray-700 dark:border-gray-700 text-gray-300 dark:text-gray-300;
}

/* More specific dark mode overrides */
.dark .dataTables_wrapper table.dataTable thead th,
.dark .dataTables_wrapper table.dataTable thead td {
  @apply bg-gray-900 dark:bg-gray-800 text-gray-300 border-gray-700 dark:text-gray-300 dark:border-gray-700;
}

.dark .dataTables_wrapper table.dataTable tbody tr,
.dark .dataTables_wrapper table.dataTable tbody td {
  @apply bg-gray-800 dark:bg-gray-800 text-gray-300 border-gray-700 dark:text-gray-300 dark:border-gray-700;
}

.dark .dataTables_wrapper table.dataTable tbody tr:nth-child(even) {
  @apply bg-gray-900 dark:bg-gray-800;
}

.dark .dataTables_wrapper table.dataTable tbody tr:hover {
  @apply bg-gray-700 dark:bg-gray-700;
}

/* Force dark mode styles with highest specificity */
.dark .dataTables_wrapper .dataTable thead > tr > th {
  background-color: rgb(17 24 39) !important; /* gray-900 */
  color: rgb(209 213 219) !important; /* gray-300 */
  border-color: rgb(55 65 81) !important; /* gray-700 */
}

.dark .dataTables_wrapper .dataTable tbody > tr {
  background-color: rgb(31 41 55) !important; /* gray-800 */
  color: rgb(209 213 219) !important; /* gray-300 */
}

.dark .dataTables_wrapper .dataTable tbody > tr:nth-child(even) {
  background-color: rgb(17 24 39) !important; /* gray-900 */
}

.dark .dataTables_wrapper .dataTable tbody > tr:hover {
  background-color: rgb(55 65 81) !important; /* gray-700 */
}

.dark .dataTables_wrapper .dataTable tbody > tr > td {
  color: rgb(209 213 219) !important; /* gray-300 */
  border-color: rgb(55 65 81) !important; /* gray-700 */
}

/* Dark mode overrides for DataTables stripe/hover and header gradients */
.dark .dataTables_wrapper table.dataTable thead > tr > th,
.dark .dataTables_wrapper table.dataTable thead > tr > td {
  background: none !important;
  background-image: none !important;
}

.dark .dataTables_wrapper table.dataTable.stripe tbody tr.odd,
.dark .dataTables_wrapper table.dataTable.display tbody tr.odd {
  background-color: rgb(31 41 55) !important; /* gray-800 */
  color: rgb(209 213 219) !important; /* gray-300 */
}

.dark .dataTables_wrapper table.dataTable.stripe tbody tr.even,
.dark .dataTables_wrapper table.dataTable.display tbody tr.even {
  background-color: rgb(17 24 39) !important; /* gray-900 */
  color: rgb(209 213 219) !important; /* gray-300 */
}

.dark .dataTables_wrapper table.dataTable.hover tbody tr:hover,
.dark .dataTables_wrapper table.dataTable.display tbody tr:hover {
  background-color: rgb(55 65 81) !important; /* gray-700 */
  color: rgb(209 213 219) !important; /* gray-300 */
}

/* Remove light backgrounds on sorted columns in dark mode */
.dark .dataTables_wrapper table.dataTable.order-column tbody tr > .sorting_1,
.dark .dataTables_wrapper table.dataTable.order-column tbody tr > .sorting_2,
.dark .dataTables_wrapper table.dataTable.order-column tbody tr > .sorting_3,
.dark .dataTables_wrapper table.dataTable.display tbody tr > .sorting_1,
.dark .dataTables_wrapper table.dataTable.display tbody tr > .sorting_2,
.dark .dataTables_wrapper table.dataTable.display tbody tr > .sorting_3 {
  background-color: transparent !important;
}

/* Additional dark mode enhancements */
.dark .dataTables_scroll {
  @apply bg-gray-800;
}

.dark .dataTables_scrollHead,
.dark .dataTables_scrollBody,
.dark .dataTables_scrollFoot {
  @apply bg-gray-800;
}

/* Dark mode for no data message */
.dark .dataTables_empty {
  @apply text-gray-400;
}

/* Dark mode for processing/loading overlay */
.dark .dataTables_processing {
  @apply bg-gray-800 text-gray-300 border-gray-600;
}

/* Dark mode for column visibility buttons */
.dark .dt-button {
  @apply bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700;
}

/* Dark mode for responsive details */
.dark table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control:before,
.dark table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control:before {
  @apply bg-primary-600;
}

/* Dark mode for sorting indicators */
.dark table.dataTable thead .sorting:before,
.dark table.dataTable thead .sorting:after,
.dark table.dataTable thead .sorting_asc:before,
.dark table.dataTable thead .sorting_asc:after,
.dark table.dataTable thead .sorting_desc:before,
.dark table.dataTable thead .sorting_desc:after {
  @apply text-primary-400;
}

/* Search and length controls with theme colors */
.dataTables_filter input[type="search"] {
  @apply bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600
         text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400
         focus:border-primary-500 focus:ring-primary-500 focus:ring-1
         rounded-md transition-colors;
}

.dataTables_length select {
  @apply bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600
         text-gray-900 dark:text-white
         focus:border-primary-500 focus:ring-primary-500 focus:ring-1
         rounded-md transition-colors cursor-pointer;
}

.dataTables_length select option {
  @apply bg-white dark:bg-gray-700 text-gray-900 dark:text-white;
}

/* Dark mode search and length controls */
.dark .dataTables_filter input[type="search"] {
  @apply bg-gray-700 border-gray-600 text-white placeholder-gray-400
         focus:border-primary-500 focus:ring-primary-500;
}

.dark .dataTables_length select {
  @apply bg-gray-700 border-gray-600 text-white
         focus:border-primary-500 focus:ring-primary-500;
}

.dark .dataTables_length select option {
  @apply bg-gray-700 text-white;
}

/* Sorting indicators with theme colors */
table.dataTable thead .sorting:before,
table.dataTable thead .sorting:after,
table.dataTable thead .sorting_asc:before,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_desc:before,
table.dataTable thead .sorting_desc:after {
  @apply text-primary-400 dark:text-primary-500;
}

/* Tailwind look for top buttons group */
.dt-buttons {
  @apply flex items-center gap-2;
}

.dt-buttons .dt-button,
.dt-buttons .buttons-html5,
.dt-buttons .buttons-print,
.dt-buttons .buttons-colvis {
  @apply inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500;
}

.dark .dt-buttons .dt-button,
.dark .dt-buttons .buttons-html5,
.dark .dt-buttons .buttons-print,
.dark .dt-buttons .buttons-colvis {
  @apply bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700;
}

/* Emphasize primary action for CSV */
.dt-buttons .buttons-csv,
.dt-buttons .buttons-csvHtml5 {
  @apply border-0 bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
}
/* Make Create button primary */
.dt-buttons .buttons-create {
  @apply border-0 bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
}

/* Toolbar layout helpers */
.dt-toolbar {
  @apply flex items-center justify-between gap-3 mb-3;
}
.dt-toolbar-start {
  @apply flex items-center gap-3;
}
.dt-toolbar-end {
  @apply flex items-center gap-3;
}
.dt-footer {
  @apply flex items-center justify-between gap-3 mt-3;
}
.dt-footer-start {
  @apply flex items-center;
}
.dt-footer-end {
  @apply flex items-center;
}

.dark .dt-buttons .buttons-csv,
.dark .dt-buttons .buttons-csvHtml5 {
  @apply bg-primary-600 hover:bg-primary-700;
}

/* Dark mode: Columns visibility popup (Buttons collection) */
.dark .dt-button-collection {
  @apply bg-gray-800 text-gray-200 border border-gray-700 rounded-md shadow-2xl;
}

.dark .dt-button-collection .dt-button {
  @apply bg-transparent text-gray-300 border-0 w-full text-left px-4 py-2 hover:bg-gray-700 hover:text-white;
}

.dark .dt-button-collection .dt-button:focus {
  @apply outline-none ring-1 ring-primary-600;
}

.dark .dt-button-collection .dt-button.active,
.dark .dt-button-collection .dt-button:active {
  @apply bg-primary-700 text-white;
}

/* Arrow/caret for the popup in dark mode (varies by placement) */
.dark div.dt-button-collection:before,
.dark div.dt-button-collection:after {
  border-bottom-color: rgb(31 41 55) !important; /* gray-800 */
  border-top-color: rgb(31 41 55) !important; /* gray-800 */
}
